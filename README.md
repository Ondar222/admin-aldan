# Админ панель Алдан - Система управления сертификатами

Веб-приложение для управления клиникой с системой подарочных сертификатов.

## Функциональность

### Система сертификатов

#### Покупка сертификатов

- **Отправить себе**: Покупка сертификата для личного использования

  - ФИО покупателя (обязательное поле)
  - Номер телефона (обязательное поле)
  - Email (обязательное поле)
  - Сумма сертификата (обязательное поле)

- **Отправить другому человеку**: Покупка сертификата в подарок
  - ФИО покупателя (обязательное поле)
  - Номер телефона покупателя (обязательное поле)
  - ФИО получателя (обязательное поле)
  - Номер телефона получателя (обязательное поле)
  - Email получателя (обязательное поле)
  - Сумма сертификата (обязательное поле)
  - Текст поздравления (необязательное поле)

#### Генерация сертификатов

- Автоматическая генерация 7-значного номера сертификата
- Создание изображения сертификата с наложением данных
- Предварительный просмотр перед отправкой
- Отправка на email получателя
- Возможность скачивания сертификата

#### Проверка и использование сертификатов

- Поиск сертификата по номеру
- Проверка подлинности и статуса
- Списание средств с сертификата
- Отслеживание остатка средств
- Статусы сертификатов:
  - **Активен**: Деньги есть, можно использовать
  - **Использован**: Денег нет, сертификат полностью потрачен

### Дополнительные функции

- Панель управления
- Система платежей
- Настройки
- Аутентификация пользователей

## Технологии

- **Frontend**: React 18, TypeScript, Vite
- **Стили**: CSS3 (без Tailwind)
- **Иконки**: Lucide React
- **Генерация изображений**: HTML5 Canvas API

## Установка и запуск

1. Клонируйте репозиторий:

```bash
git clone <repository-url>
cd admin-aldan
```

2. Установите зависимости:

```bash
npm install
```

3. Запустите проект в режиме разработки:

```bash
npm run dev
```

4. Откройте браузер и перейдите по адресу: `http://localhost:5173`

## Структура проекта

```
src/
├── components/          # React компоненты
│   ├── CertificateManager.tsx    # Управление сертификатами
│   ├── CertificatePreview.tsx    # Предварительный просмотр
│   ├── Dashboard.tsx             # Панель управления
│   ├── Header.tsx                # Заголовок
│   ├── Login.tsx                 # Страница входа
│   ├── PaymentSystem.tsx         # Система платежей
│   ├── Settings.tsx              # Настройки
│   └── Sidebar.tsx               # Боковое меню
├── contexts/            # React контексты
│   └── AuthContext.tsx  # Контекст аутентификации
├── hooks/               # Пользовательские хуки
│   └── useAuth.ts       # Хук для работы с аутентификацией
├── styles/              # CSS стили
│   ├── App.css
│   ├── CertificateManager.css
│   ├── Dashboard.css
│   ├── Header.css
│   ├── Login.css
│   ├── PaymentSystem.css
│   ├── Setting.css
│   └── Sidebar.css
├── utils/               # Утилиты
│   └── certificateGenerator.ts   # Генератор сертификатов
├── App.tsx              # Главный компонент
└── main.tsx             # Точка входа
```

## Использование системы сертификатов

### Покупка сертификата

1. Войдите в админ панель
2. Перейдите в раздел "Сертификаты"
3. Выберите вкладку "Покупка сертификата"
4. Выберите тип отправки: "Отправить себе" или "Отправить другому человеку"
5. Заполните все обязательные поля
6. Нажмите "Оплатить"
7. Просмотрите предварительный вид сертификата
8. Подтвердите создание и отправку

### Проверка сертификата

1. Перейдите в раздел "Сертификаты"
2. Выберите вкладку "Проверка сертификата"
3. Введите 6-значный номер сертификата
4. Нажмите "Проверить"
5. Просмотрите информацию о сертификате
6. При необходимости спишите средства

### Использование сертификата

1. Найдите сертификат по номеру
2. Проверьте статус и остаток средств
3. Введите сумму для списания
4. Нажмите "Списать сумму"
5. Система автоматически обновит статус сертификата

## Особенности реализации

### Генерация изображений

- Используется HTML5 Canvas API для создания изображений сертификатов
- Поддержка наложения текста на шаблон
- Автоматическое масштабирование и перенос текста
- Экспорт в PNG формат

### Отправка на email

- Симуляция отправки email (в реальном проекте требуется интеграция с почтовым сервисом)
- Поддержка вложений (изображение сертификата)
- Персонализированные сообщения

### Безопасность

- Валидация всех входных данных
- Проверка подлинности сертификатов
- Отслеживание использования средств
- Защита от дублирования номеров

## Планы развития

- [ ] Интеграция с реальным почтовым сервисом
- [ ] Загрузка пользовательских шаблонов сертификатов
- [ ] Система уведомлений
- [ ] Экспорт данных в Excel/PDF
- [ ] API для интеграции с внешними системами
- [ ] Мобильное приложение

## Лицензия

MIT License
